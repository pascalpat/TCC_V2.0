## 🔧 Project Overview

This is a modular **Flask + JavaScript** web app for construction cost control. The app captures daily data from construction sites and saves it into a structured database for reporting, analysis, and audit.

The system is organized around multiple **data entry tabs** (labor, equipment, materials, subcontractors, notes, etc.), and every entry is tied to a selected **project** and **activity code**.

## 🗂️ Project Structure

\`\`\`
TCC_V2.0/
├── app/
│   ├── models/
│   ├── routes/
│   ├── templates/
│   ├── static/js/
│   └── utils/
├── database/
├── instance/
├── config.py
└── TCC02_V2.0.py
\`\`\`

## 📋 Design Patterns

- Each tab uses:
  - Form on the left
  - Table of pending entries on the right
  - 'Confirm Tab' to commit
- Session holds entries until confirmation
- \`status\` values: \`pending\`, \`committed\`, \`rejected\`

## 📌 Naming Conventions

| Component     | Format |
|---------------|--------|
| Entry tables  | entries_workers, entries_equipment |
| Session keys  | session['worker_entries'], etc. |
| Models        | SQLAlchemy models per entity |
| Tabs          | LaborEquipTab, MaterialsTab |
| Status enum   | 'pending', 'committed', 'rejected' |

## 🤖 AI Use Cases (Post-MVP)

- Daily notes summarization via OpenAI
- Crew/tag suggestion
- Activity code recommendation
- Final report validation
- Agent-based orchestration (CommandAgent + domain agents)

## ✅ Codex Guidance

- Keep things modular (routes, blueprints)
- Use session-based entry flow
- Break large logic into small functions
- Validate inputs consistently
- Ask before major assumptions/refactors

## ✅ Tasks for Codex

1. Add /notes/summarize route using OpenAI
2. Build group_entries_by_tag() for sessions
3. Scaffold LaborAgent logic
4. Refactor materials_routes.py like workers_routes.py
